(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{164:function(e,t,a){},167:function(e,t,a){},293:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),r=a.n(c),o=a(28),s=a.n(o),i=(a(164),a(40)),l=a.n(i),j=a(55),d=a(7),b=a(8),u=a(16),h=a(73),O=(a(166),a(167),a(11)),x=a(14),m=a(307),p=a(317),f=a(308),g=a(147),k=a(148),v=a(10),y=a.n(v);function w(e){var t,a=Object(u.f)(),r=Object(c.useState)({}),o=Object(d.a)(r,2),s=o[0],i=o[1],l=Object(c.useState)(!0),j=Object(d.a)(l,2),b=j[0],h=j[1],v=Object(c.useState)(!0),w=Object(d.a)(v,2),C=(w[0],w[1]),S=Object(c.useState)(!0),I=Object(d.a)(S,2),B=(I[0],I[1]),N=Object(c.useState)(!0),L=Object(d.a)(N,2),P=L[0],E=L[1],T=Object(c.useState)(!0),A=Object(d.a)(T,2),F=A[0],G=A[1],R=Object(c.useState)(!0),U=Object(d.a)(R,2),D=U[0],_=U[1],H=Object(c.useState)(!0),Y=Object(d.a)(H,2),q=(Y[0],Y[1]),z=function(e){var t=e.target,a=t.name,n=t.value;i(Object(x.a)(Object(x.a)({},s),{},Object(O.a)({},a,n))),"email"==a&&(n.includes("@")?E(!0):E(!1)),"password"==a&&(n.length<=5?G(!1):G(!0))};return Object(n.jsxs)(n.Fragment,{children:[!b&&Object(n.jsx)(m.a,{variant:"danger",children:"The email is already in use. Please change the email"}),!D&&Object(n.jsx)(m.a,{variant:"danger",children:"Please Fill All the Field"}),Object(n.jsx)(p.a,(t={className:"mt-5"},Object(O.a)(t,"className","container"),Object(O.a)(t,"style",{color:"black"}),Object(O.a)(t,"children",Object(n.jsx)(f.a,{className:"justify-content-center mt-5 ",children:Object(n.jsxs)(g.a,{md:8,children:[Object(n.jsx)(p.a.Row,{children:Object(n.jsxs)(g.a,{md:12,children:[Object(n.jsx)(p.a.Label,{children:"Full Name"}),Object(n.jsx)(p.a.Control,{placeholder:"Full name",name:"name",onChange:function(e){return z(e)},required:!0})]})}),Object(n.jsx)(p.a.Row,{children:Object(n.jsx)(g.a,{md:12,children:Object(n.jsxs)(p.a.Group,{controlId:"formGridEmail",children:[Object(n.jsx)(p.a.Label,{htmlFor:"email",children:"Email"}),Object(n.jsx)(p.a.Control,{type:"email",placeholder:"Enter email",name:"email",onChange:function(e){return z(e)},required:!0})]})})}),Object(n.jsx)(p.a.Row,{children:Object(n.jsx)(g.a,{md:12,children:Object(n.jsxs)(p.a.Group,{controlId:"formGridPassword",children:[Object(n.jsx)(p.a.Label,{children:"Password"}),Object(n.jsx)(p.a.Control,{type:"password",placeholder:"Password",name:"password",minlength:"5",onChange:function(e){return z(e)},required:!0})]})})}),Object(n.jsx)(p.a.Check,{inline:!0,label:"Reader",type:"radio",name:"utype",id:"Reader",value:"0",onChange:function(e){return z(e)}}),Object(n.jsx)(p.a.Check,{inline:!0,label:"Auther",type:"radio",name:"utype",id:"Auther",value:"1",onChange:function(e){return z(e)}}),Object(n.jsx)("br",{}),Object(n.jsxs)("p",{children:["You alredy have an account ?  ",Object(n.jsx)("a",{href:"/login",children:" log in"})]}),Object(n.jsx)(k.a,{variant:"outline-secondary",type:"submit",onClick:function(e){return t=e,1==F&&1==P&&(t.preventDefault(),y.a.post("http://localhost:4000/api/users/register",s).then((function(e){e.data.user?a.push("/login"):setTimeout((function(){h(!1)}),1e3)})).catch((function(e){return console.log(e)}))),s.name?C(!0):C(!1),s.email?B(!0):B(!1),s.utype?_(!0):_(!1),void(s.password?q(!0):q(!1));var t},children:"Submit"})]})})),t))]})}function C(e){var t,a=Object(u.f)(),r=Object(c.useState)({email:"",password:""}),o=Object(d.a)(r,2),s=o[0],i=o[1],l=Object(c.useState)(!0),j=Object(d.a)(l,2),b=j[0],h=j[1],v=function(e){var t=e.target,a=t.name,n=t.value;i(Object(x.a)(Object(x.a)({},s),{},Object(O.a)({},a,n)))};return Object(n.jsxs)(n.Fragment,{children:[!b&&Object(n.jsx)(m.a,{variant:"danger",children:"The email address or password is incorrect. Please retry..."}),Object(n.jsx)(p.a,(t={className:"mt-5"},Object(O.a)(t,"className","container"),Object(O.a)(t,"style",{color:"black"}),Object(O.a)(t,"children",Object(n.jsx)(f.a,{className:"justify-content-center mt-5",children:Object(n.jsxs)(g.a,{md:8,children:[Object(n.jsx)(p.a.Row,{children:Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formGridEmail",children:[Object(n.jsx)(p.a.Label,{children:"Email"}),Object(n.jsx)(p.a.Control,{style:{width:"300px "},type:"email",placeholder:"Enter email",name:"email",onChange:function(e){return v(e)}})]})}),Object(n.jsx)(p.a.Row,{children:Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formGridPassword",children:[Object(n.jsx)(p.a.Label,{children:"Password"}),Object(n.jsx)(p.a.Control,{style:{width:"300px "},type:"password",placeholder:"Password",name:"password",onChange:function(e){return v(e)}})]})}),Object(n.jsxs)("p",{children:[" You don`t have account ?  ",Object(n.jsx)("a",{href:"/Signup",children:" Sign Up"})]}),Object(n.jsx)(k.a,{variant:"outline-secondary",type:"submit",onClick:function(t){return t.preventDefault(),void y.a.post("http://localhost:4000/api/users/login",s).then((function(t){console.log("Express backend /login response",t);var n=t.data.token,c=t.data.msg;n?(localStorage.setItem("jwtToken",n),e.loginCallback(),a.push("/Home")):(console.log("Login error: ",c),h(!1))}))},children:"Submit"})]})})),t))]})}var S=a(319),I=a(146),B=a(321),N=a(316),L=a(315);function P(e){if(!e)return 0;var t=e.reduce((function(e,t){return e+t}),0);return 0==e.length?0:t/e.length}function E(e){var t=r.a.useState(2),a=Object(d.a)(t,2);a[0],a[1];return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(g.a,{md:"2",sm:"4",children:Object(n.jsxs)(B.a,{className:"cardH",border:"warning",style:{width:"11.1rem",high:"11rem",color:"black"},children:[Object(n.jsx)(B.a.Img,{className:"cardImg",variant:"top",src:e.book.bimg}),Object(n.jsxs)(B.a.Body,{children:[Object(n.jsx)(B.a.Title,{children:Object(n.jsx)("h6",{children:e.book.bname})}),Object(n.jsx)(L.a,{component:"fieldset",mb:3,borderColor:"transparent",children:Object(n.jsx)(N.a,{name:"read-only",value:P(e.book.brate),precision:.5,readOnly:!0})}),Object(n.jsxs)(f.a,{style:{textAlign:"center",justifyContent:"center"},children:[P(e.book.brate),"/5"]}),Object(n.jsx)(f.a,{children:Object(n.jsx)(b.b,{to:"/Showbook/".concat(e.book._id),children:Object(n.jsx)(k.a,{className:"btn1",variant:"outline-secondary",onClick:function(){return e.setSelectbook(e.book)},children:" more info"})})})]})]})})})}var T={development:"http://localhost:".concat(4e3),production:"https://books-stream.herokuapp.com"},A="localhost"===window.location.hostname?T.development:T.production,F=a(320);function G(e){var t=Object(c.useState)([]),a=Object(d.a)(t,2),r=a[0],o=a[1],s=Object(c.useState)("All"),i=Object(d.a)(s,2),l=i[0],j=i[1],b=Object(c.useState)(""),u=Object(d.a)(b,2),h=u[0],O=u[1];Object(c.useEffect)((function(){y.a.get("".concat(A,"/api/books/")).then((function(e){console.log(e.data),o(e.data)}))}),[]);var x,m=function(e){j(e.target.innerHTML)};return x="All"===l&&""==h?r.map((function(t,a){return Object(n.jsx)(E,{book:t,setSelectbook:e.setSelectbook})})):r.map((function(t,a){if(t.bcategory===l||h==t.bname)return Object(n.jsx)(E,{book:t,setSelectbook:e.setSelectbook})})),Object(n.jsxs)("div",{children:[Object(n.jsxs)(S.a,{collapseOnSelect:!0,expand:"lg",children:[Object(n.jsx)(S.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(n.jsx)(S.a.Collapse,{id:"responsive-navbar-nav",children:Object(n.jsxs)(F.a,{className:"mr-auto",children:[Object(n.jsx)(F.a.Link,{onClick:m,children:"All"}),Object(n.jsx)(F.a.Link,{onClick:m,children:"History"}),Object(n.jsx)(F.a.Link,{onClick:m,children:"Memoir"}),Object(n.jsx)(F.a.Link,{onClick:m,children:"Cookbook"}),Object(n.jsx)(F.a.Link,{onClick:m,children:"Crime"}),Object(n.jsx)(F.a.Link,{onClick:m,children:"Art/architecture"}),Object(n.jsx)(F.a.Link,{onClick:m,children:"Science"}),Object(n.jsx)(F.a.Link,{onClick:m,children:"Sports and leisure"}),Object(n.jsx)(F.a.Link,{onClick:m,children:"Horror"}),Object(n.jsx)(F.a.Link,{onClick:m,children:"other"})]})}),Object(n.jsxs)(p.a,{inline:!0,className:"search",children:[Object(n.jsx)(I.a,{onChange:function(e){O(e.target.value)},type:"text",placeholder:"Search",className:"mr-sm-2"}),Object(n.jsx)(k.a,{variant:"outline-secondary",children:"Search"})]})]}),Object(n.jsx)("div",{className:"padding",children:Object(n.jsx)(f.a,{className:"justify-content-md-center",children:x})})]})}var R=a(318);function U(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(R.a,{style:{backgroundColor:"gray"},children:[Object(n.jsxs)(R.a.Item,{interval:1500,style:{height:"50px"},children:[Object(n.jsx)("img",{className:"d-block w-100",src:"https://www.wallpapertip.com/wmimgs/0-3795_wallpaper-books-library-shelves-lighting-hd-book-library.jpg",alt:"First slide"}),Object(n.jsxs)(R.a.Caption,{children:[Object(n.jsx)("h3",{children:"BooksStream"}),Object(n.jsx)("p",{children:"Show your wonderful book for others to read"})]})]}),Object(n.jsxs)(R.a.Item,{interval:1500,style:{height:"650px"},children:[Object(n.jsx)("img",{className:"d-block w-100",src:"https://wallpaperaccess.com/full/124383.jpg",alt:"Third slide"}),Object(n.jsxs)(R.a.Caption,{children:[Object(n.jsx)("h3",{children:"BooksStream"}),Object(n.jsx)("p",{children:"Find and read more books you'll love"})]})]}),Object(n.jsxs)(R.a.Item,{interval:1500,style:{height:"650px"},children:[Object(n.jsx)("img",{className:"d-block w-100",src:"https://www.wallpapertip.com/wmimgs/55-556339_old-library-bookshelf-design.jpg",alt:"Third slide"}),Object(n.jsxs)(R.a.Caption,{children:[Object(n.jsx)("h3",{children:"BooksStream"}),Object(n.jsx)("p",{children:" This website for readers and book recommendations. "})]})]})]})})}var D=a(312);function _(e){return Object(n.jsxs)(S.a,{bg:"light",expand:"lg",children:[Object(n.jsx)(S.a.Brand,{as:b.b,to:"/",children:Object(n.jsx)("h4",{children:"BookStream"})}),Object(n.jsx)(F.a.Link,{href:"#home",as:b.b,to:"/Home",style:{color:"gray"},children:"Home"}),e.isLoggedIn?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(n.jsx)(S.a.Collapse,{id:"responsive-navbar-nav",children:e.data&&"0"==e.data.utype?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(F.a,{children:Object(n.jsxs)(D.a,{title:"MENU",id:"basic-nav-dropdown1",children:[Object(n.jsx)(D.a.Item,{as:b.b,to:"/toread",children:"Books You Want Read"}),Object(n.jsx)(D.a.Item,{as:b.b,to:"/ireadit",children:"Books You Read It"}),Object(n.jsx)(D.a.Item,{as:b.b,to:"/editprofile",children:"Edit Profile"}),Object(n.jsx)(D.a.Item,{as:b.b,to:"/home",onClick:function(){console.log("Logging Out!"),localStorage.removeItem("jwtToken"),e.loginCallback()},children:"Logout"})]})})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(F.a,{children:Object(n.jsxs)(D.a,{title:"MENU",id:"basic-nav-dropdown2",children:[Object(n.jsx)(D.a.Item,{as:b.b,to:"/newbook",children:"Add New Book"}),Object(n.jsx)(D.a.Item,{as:b.b,to:"/mybooks",children:"My Books"}),Object(n.jsx)(D.a.Item,{as:b.b,to:"/EditProfile",children:"Edit Profile"}),Object(n.jsx)(D.a.Item,{as:b.b,to:"/home",onClick:function(){console.log("Logging Out!"),localStorage.removeItem("jwtToken"),e.loginCallback()},children:"Logout"})]})})})})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(F.a.Link,{as:b.b,to:"/login",children:"LogIn"})})]})}function H(e){var t=Object(u.f)(),a=Object(c.useState)({}),r=Object(d.a)(a,2),o=r[0],s=r[1],i=Object(c.useState)(!0),l=Object(d.a)(i,2),j=l[0],b=l[1],h=function(t){var a=t.target,n=(a.user,a.name),c=a.value;s(Object(x.a)(Object(x.a)({},o),{},Object(O.a)({},n,c))),console.log(e.data._id),"bdescription"==n&&(c.length>=225?b(!1):b(!0))};return Object(n.jsxs)(n.Fragment,{children:[!j&&Object(n.jsx)(m.a,{variant:"danger",children:"sorry, you can typee with 225 laters only"}),Object(n.jsx)(p.a,{className:"mt-5 container",children:Object(n.jsx)(f.a,{className:"justify-content-center mt-5",children:Object(n.jsxs)(g.a,{md:12,children:[Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)(g.a,{md:12,children:[Object(n.jsx)(p.a.Label,{children:"Book Name"}),Object(n.jsx)(p.a.Control,{placeholder:"Book name",name:"bname",onChange:function(e){return h(e)}})]}),Object(n.jsx)(g.a,{md:12,children:Object(n.jsxs)(p.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(n.jsx)(p.a.Label,{children:"Description"}),Object(n.jsx)(p.a.Control,{name:"bdescription",onChange:function(e){return h(e)},as:"textarea",rows:3})]})}),Object(n.jsx)(g.a,{md:12,children:Object(n.jsxs)(p.a.Group,{controlId:"exampleForm.SelectCustom",children:[Object(n.jsx)(p.a.Label,{children:"Type of the Book"}),Object(n.jsxs)(p.a.Control,{onChange:function(e){return h(e)},as:"select",name:"bcategory",custom:!0,children:[Object(n.jsx)("option",{children:"History"}),Object(n.jsx)("option",{children:"Memoir"}),Object(n.jsx)("option",{children:"Cookbook"}),Object(n.jsx)("option",{children:"Crime"}),Object(n.jsx)("option",{children:"Art/architecture"}),Object(n.jsx)("option",{children:"Science"}),Object(n.jsx)("option",{children:"Sports and leisure"}),Object(n.jsx)("option",{children:"Horror"}),Object(n.jsx)("option",{children:"other"})]})]})})]}),Object(n.jsx)(p.a.Row,{children:Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formGridEmail",children:[Object(n.jsx)(p.a.Label,{children:"Release Date"}),Object(n.jsx)(p.a.Control,{type:"Text",placeholder:"Release Date",name:"bReleasDate",onChange:function(e){return h(e)}})]})}),Object(n.jsx)(p.a.Row,{children:Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formGridPassword",children:[Object(n.jsx)(p.a.Label,{children:"Image"}),Object(n.jsx)(p.a.Control,{placeholder:"Image",name:"bimg",onChange:function(e){return h(e)}})]})}),Object(n.jsx)(p.a.Row,{children:Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formGridPassword",children:[Object(n.jsx)(p.a.Label,{children:"Author Name"}),Object(n.jsx)(p.a.Control,{placeholder:"Author Name",name:"bAuthor",onChange:function(e){return h(e)}})]})}),Object(n.jsx)(k.a,{variant:"outline-secondary",size:"lg",block:!0,onClick:function(a){return n=a,void(1==j&&(o.user=e.data._id,console.log(o),n.preventDefault(),y.a.post("http://localhost:4000/api/books/new",o).then((function(e){t.push("/Home")})).catch((function(e){return console.log(e)}))));var n},children:"Save"})]})})})]})}function Y(e){if(!e)return 0;var t=e.reduce((function(e,t){return e+t}),0);return 0==e.length?0:t/e.length}function q(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(g.a,{md:"2",sm:"4",children:Object(n.jsxs)(B.a,{className:"cardH",border:"warning",style:{color:"black"},children:[Object(n.jsx)(B.a.Img,{variant:"top",src:e.bimg,className:"cardImg"}),Object(n.jsxs)(B.a.Body,{children:[Object(n.jsx)(B.a.Title,{children:Object(n.jsx)("h6",{children:e.bname})}),Object(n.jsxs)(f.a,{style:{textAlign:"center",justifyContent:"center",color:"black"},children:[Y(e.brate),"/10"]}),Object(n.jsxs)(f.a,{children:[Object(n.jsx)(k.a,{className:"btn1",variant:"outline-danger",onClick:function(){return e.deleteBook(e.id)},children:"Delete"}),Object(n.jsx)(b.b,{to:"/EditBook/".concat(e.id),children:Object(n.jsx)(k.a,{className:"btn1",variant:"link",onClick:function(){e.setSelectbook(e.books),localStorage.setItem("EditBook",JSON.stringify(e.books)),console.log(e.books)},children:"Edit Book"})})]})]})]})})})}function z(e){var t=Object(c.useState)([]),a=Object(d.a)(t,2),r=a[0],o=a[1],s=e.auth.currentUser,i=(s.name,s.email,s.favoriteBooks1,s._id,function(e){console.log("myyyyyyyyyy"),console.log(" id boooooooooook",e),y.a.delete("http://localhost:4000/api/books/".concat(e)).then((function(t){o(r.filter((function(t){return t._id!=e})))}))});Object(c.useEffect)((function(){y.a.get("".concat(A,"/api/books/")).then((function(e){console.log(e.data),o(e.data)}))}),[]);var l=r.map((function(t,a){if(t.user==e.data._id)return Object(n.jsx)(q,{bimg:t.bimg,bname:t.bname,id:t._id,deleteBook:i,books:t,setSelectbook:e.setSelectbook})}));return console.log("ggggg  ",l.length),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"padding",children:Object(n.jsx)(f.a,{className:"justify-content-md-center",children:l})})})}var J=a(310);function M(e){if(!e)return 0;var t=e.reduce((function(e,t){return e+t}),0);return 0==e.length?0:t/e.length}function W(e){Object(u.g)().id;var t,a=e.selectbook,r=Object(c.useState)(!0),o=Object(d.a)(r,2),s=o[0],i=o[1];return Object(n.jsxs)(n.Fragment,{children:[!s&&Object(n.jsx)(m.a,{variant:"success",children:"add to I want to read it"}),Object(n.jsx)("div",{className:"borderShow",children:Object(n.jsx)(J.a,(t={className:"mt-5"},Object(O.a)(t,"className","magenShow"),Object(O.a)(t,"children",Object(n.jsxs)(f.a,{children:[Object(n.jsx)(g.a,{md:"6",children:Object(n.jsx)("img",{className:"imgShow",src:a.bimg,alt:"",srcset:""})}),Object(n.jsxs)(g.a,{md:"6",className:"infoSowh",children:[Object(n.jsxs)("div",{class:"info",children:[Object(n.jsx)("p",{style:{fontSize:"20px"},children:Object(n.jsx)("span",{style:{fontWeight:"bold"},children:a.bname})}),Object(n.jsxs)("p",{style:{fontSize:"18px"},children:[Object(n.jsx)("span",{style:{fontWeight:"bold"},children:"Book Rating :"}),Object(n.jsx)(L.a,{component:"fieldset",mb:3,borderColor:"transparent",children:Object(n.jsx)(N.a,{name:"read-only",value:M(a.brate),precision:.5,readOnly:!0})})]}),Object(n.jsxs)("p",{style:{fontSize:"18px"},children:[Object(n.jsx)("span",{style:{fontWeight:"bold"},children:"Author :"}),a.bAuthor]}),Object(n.jsxs)("p",{style:{fontSize:"16px"},children:[Object(n.jsx)("span",{style:{fontWeight:"bold"},children:"Discription :"}),a.bdescription]}),Object(n.jsxs)("p",{style:{fontSize:"18px"},children:[Object(n.jsx)("span",{style:{fontWeight:"bold"},children:"Category :"}),a.bcategory]}),Object(n.jsxs)("p",{style:{fontSize:"18px"},children:[Object(n.jsx)("span",{style:{fontWeight:"bold"},children:"Realeas Date :"}),a.bReleasDate]})]}),e.user&&"0"==e.user.utype?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(k.a,{onClick:function(){console.log("bookId = ",a._id),console.log("userId = ",e.user._id),y.a.post("http://localhost:4000/api/books/toread",{bookId:a._id,userId:e.user._id}).then((function(t){e.setAuth((function(e){return Object(x.a)(Object(x.a)({},e),{},{currentUser:Object(x.a)(Object(x.a)({},e.currentUser),{},{favoriteBooks:t.data.favoriteBooks})})})),console.log(t)})),i(!1),setTimeout((function(){i(!0)}),3e3)},variant:"outline-secondary",children:" I want to read it "})}):Object(n.jsx)(n.Fragment,{})]})]})),t))})]})}var V=a(314);function K(e){if(!e)return 0;var t=e.reduce((function(e,t){return e+t}),0);return 0==e.length?0:t/e.length}function Q(e){var t,a=Object(c.useState)(e.selectbook),r=Object(d.a)(a,2),o=r[0],s=(r[1],Object(c.useState)(o)),i=Object(d.a)(s,2),l=i[0],j=i[1],b=Object(c.useState)(!1),u=Object(d.a)(b,2),h=u[0],m=u[1],v=function(){return m(!1)};return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"padding",children:Object(n.jsx)(g.a,{md:"2",sm:"4",children:Object(n.jsxs)(B.a,{className:"cardH",border:"warning",children:[Object(n.jsx)(B.a.Img,{variant:"top",src:e.favBook.bimg,className:"cardImg"}),Object(n.jsxs)(B.a.Body,{children:[Object(n.jsx)(B.a.Title,{children:Object(n.jsx)("h6",{children:e.favBook.bname})}),Object(n.jsx)(L.a,{component:"fieldset",mb:3,borderColor:"transparent",children:Object(n.jsx)(N.a,{name:"read-only",value:K(e.favBook.brate),precision:.5,readOnly:!0})}),Object(n.jsxs)(f.a,{children:[Object(n.jsx)(g.a,{md:e.delete?"5":"12",children:Object(n.jsx)(k.a,(t={variant:"outline-secondary",className:"btn2"},Object(O.a)(t,"className","outline-light"),Object(O.a)(t,"style",{height:"30px",width:"60px"}),Object(O.a)(t,"onClick",(function(){m(!0)})),Object(O.a)(t,"className","outline-light"),Object(O.a)(t,"children",Object(n.jsx)("h5",{children:"I read it"})),t))}),Object(n.jsxs)(g.a,{md:"3",children:[e.delete&&Object(n.jsx)(k.a,{className:"btn2",variant:"outline-danger",onClick:function(){return e.deleteBook(e.favBook._id)},style:{height:"30px",width:"60px"},children:Object(n.jsx)("h5",{children:"delete"})}),Object(n.jsxs)(V.a,{show:h,onHide:v,children:[Object(n.jsx)(V.a.Header,{closeButton:!0,children:Object(n.jsx)(V.a.Title,{children:"Rate The Book"})}),Object(n.jsxs)(V.a.Body,{children:["Did you like the book?",Object(n.jsx)(p.a.Control,{type:"number",placeholder:" enter number out of 5",name:"brate",max:"5",min:"0",onChange:function(e){return function(e){var t=e.target,a=t.name,n=t.value;return j(Object(x.a)(Object(x.a)({},l),{},Object(O.a)({},a,n)))}(e)}})]}),Object(n.jsxs)(V.a.Footer,{children:[Object(n.jsx)(k.a,{variant:"secondary",onClick:v,children:"Close"}),Object(n.jsx)(k.a,{variant:"outline-secondary",onClick:function(){!function(t,a){var n=e.favBook._id;y.a.post("http://localhost:4000/api/books/addrating/".concat(n),l).then((function(e){console.log("res.data.user from profile update: ",e.data.user)})).catch((function(e){return console.log(e)}))}(),v(),e.addBookIreadit(e.favBook._id),e.deleteBook(e.favBook._id)},children:"Save Changes"})]})]})]})]})]})]})})})})}function X(e){var t=e.auth.currentUser,a=(t.name,t.email,t.favoriteBooks1,t._id),r=Object(c.useState)([]),o=Object(d.a)(r,2),s=o[0],i=o[1],u=function(){var t=Object(j.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("".concat(A,"/api/users/profile/").concat(e.auth.currentUser._id));case 2:a=t.sent,console.log("get profile",a),y.a.get("".concat(A,"/api/books/")).then((function(e){console.log(">>>>>>> props.user.favoriteBooks: ",a.data.user.favoriteBooks);var t=e.data.filter((function(e){return a.data.user.favoriteBooks.includes(e._id)}));i(t)}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)(u,[]);var h=function(e){console.log("myyyyyyyyyy");var t=a;y.a.delete("".concat(A,"/api/books/").concat(e,"/").concat(t)).then((function(t){var n=localStorage.getItem("userData");JSON.parse(n);localStorage[a]=JSON.stringify(t.data.favoriteBooks),console.log(localStorage[a]),console.log("deleted book",t.data.favoriteBooks),i(s.filter((function(t){return t._id!=e})))}))},O=function(t){console.log("bookId = ",t),console.log("userId = ",e.user._id),y.a.post("".concat(A,"/api/books/ireadit"),{bookId:t,userId:e.user._id}).then((function(t){e.setAuth((function(e){return Object(x.a)(Object(x.a)({},e),{},{currentUser:Object(x.a)(Object(x.a)({},e.currentUser),{},{ireadit:t.data.ireadit})})})),console.log(t)}))},m=s.map((function(e,t){return Object(n.jsx)(Q,{favBook:e,deleteBook:h,addBookIreadit:O,delete:!0})}));return 0==m.length?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("h1",{style:{textAlign:"center",justifyContent:"center",marginTop:"300px"},children:[" You Add Any Book Yet",Object(n.jsx)("br",{}),Object(n.jsx)(b.b,{to:"/Home",children:"Go To All Books"})," "]})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{style:{textAlign:"center",justifyContent:"center",marginTop:"100px",marginBottom:"-80px"},children:"Books You Want Read   "}),Object(n.jsx)("div",{className:"padding",children:Object(n.jsx)(f.a,{className:"justify-content-md-center",children:m})})]})}function Z(e){return e.auth.isLoggedIn?Object(n.jsx)(X,{auth:e.auth,user:e.user,setAuth:e.setAuth}):Object(n.jsx)(u.a,{to:"/"})}function $(e){if(!e)return 0;var t=e.reduce((function(e,t){return e+t}),0);return 0==e.length?0:t/e.length}function ee(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(g.a,{md:"2",sm:"4",style:{color:"black"},children:Object(n.jsxs)(B.a,{className:"cardH",border:"warning",style:{color:"black"},children:[Object(n.jsx)(B.a.Img,{className:"cardImg",variant:"top",src:e.favBook.bimg}),Object(n.jsx)(B.a.Title,{children:Object(n.jsx)("h6",{children:e.favBook.bname})}),Object(n.jsx)(L.a,{component:"fieldset",mb:3,borderColor:"transparent",children:Object(n.jsx)(N.a,{name:"read-only",value:$(e.favBook.brate),precision:.5,readOnly:!0})}),Object(n.jsx)(f.a,{children:Object(n.jsx)(g.a,{md:"3",children:e.delete&&Object(n.jsx)(k.a,{className:"btn3",variant:"outline-danger",onClick:function(){return e.deleteBook(e.favBook._id)},children:"delete"})})})]})})})}function te(e){var t=e.auth.currentUser,a=(t.name,t.email,t.favoriteBooks1,t._id),r=Object(c.useState)([]),o=Object(d.a)(r,2),s=o[0],i=o[1],u=function(){var t=Object(j.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("".concat(A,"/api/users/profile/").concat(e.auth.currentUser._id));case 2:a=t.sent,console.log("get profile",a),y.a.get("http://localhost:4000/api/books/").then((function(e){console.log(">>>>>>> props.user.favoriteBooks: ",a.data.user.ireadit);var t=e.data.filter((function(e){return a.data.user.ireadit.includes(e._id)}));i(t)}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)(u,[]);var h=function(e){var t=a;y.a.delete("".concat(A,"/api/books/ireadit/").concat(e,"/").concat(t)).then((function(t){var n=localStorage.getItem("userData");JSON.parse(n);localStorage[a]=JSON.stringify(t.data.ireadit),console.log(localStorage[a]),console.log("deleted book",t.data.ireadit),i(s.filter((function(t){return t._id!=e})))}))},O=s.map((function(e,t){return Object(n.jsx)(ee,{favBook:e,deleteBook:h,delete:!0})}));return 0==O.length?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("h1",{style:{textAlign:"center",justifyContent:"center",marginTop:"300px"},children:[" You Didn't Read Any Book Yet",Object(n.jsx)("br",{}),Object(n.jsx)(b.b,{to:"/toread",children:"Go To Your Books"})," "]})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{style:{textAlign:"center",justifyContent:"center",marginTop:"100px"},children:"Books You Already Read it  "}),Object(n.jsx)("div",{className:"padding",children:Object(n.jsx)(f.a,{className:"justify-content-md-center",children:O})})]})}var ae=a(145),ne=a(311),ce=a(25),re=a(49),oe=re.a({name:re.b().required("Name is required"),email:re.b().email("Email is invalid").required("Email is required"),password:re.b(),confirmPassword:re.b().test("passwords-match","Passwords must match ",(function(e){return this.parent.password===e})),img:re.b().required("This Field is Required")});function se(e){Object(u.f)();var t=Object(c.useState)({}),a=Object(d.a)(t,2),r=a[0],o=a[1],s={name:e.userProfile.name,email:e.userProfile.email,password:"",confirmPassword:"",img:e.userProfile.img};console.log("User const ==>",s);return Object(n.jsx)(n.Fragment,{children:e.userProfile.name?Object(n.jsx)(ce.d,{initialValues:s,validationSchema:oe,onSubmit:function(t){return function(t){var a=e.userProfile._id;y.a.post("".concat(A,"/api/users/EditProfile/").concat(a),t).then((function(a){console.log("res.data.user from profile update: ",a.data.user),e.setUserProfile(t);var n={name:t.name,email:t.email};o(n)})).catch((function(e){return console.log(e)}))}(t)},children:Object(n.jsx)(ce.c,{className:"mt-5",style:{color:"black"},children:Object(n.jsx)(f.a,{className:"justify-content-center mt-5",children:Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)(g.a,{md:4,children:[Object(n.jsx)(ae.a,{className:"proImg",width:171,height:180,name:"img",src:e.userProfile.img,roundedCircle:!0}),Object(n.jsx)(p.a.Label,{children:Object(n.jsx)("h2",{children:r.name?r.name:e.userProfile.name})}),Object(n.jsx)(p.a.Label,{children:r.name?r.email:e.userProfile.email})]}),Object(n.jsxs)(g.a,{md:6,className:"proInfo",children:[Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formGridEmail",children:[Object(n.jsx)(p.a.Label,{children:"Name"}),Object(n.jsx)(p.a.Control,{style:{width:"300px "},as:ce.b,type:"Text",name:"name"}),Object(n.jsx)(ce.a,{name:"name",render:function(e){return Object(n.jsx)(m.a,{variant:"danger",children:e})}})]}),Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formGridEmail",children:[Object(n.jsx)(p.a.Label,{children:"Email"}),Object(n.jsx)(p.a.Control,{style:{width:"300px "},as:ce.b,type:"Text",name:"email"}),Object(n.jsx)(ce.a,{name:"email",render:function(e){return Object(n.jsx)(m.a,{variant:"danger",children:e})}})]}),Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formGridEmail",children:[Object(n.jsx)(p.a.Label,{children:"Password "}),Object(n.jsx)(p.a.Control,{style:{width:"300px "},as:ce.b,type:"Password",name:"password"}),Object(n.jsx)(ce.a,{name:"password",render:function(e){return Object(n.jsx)(m.a,{variant:"danger",children:e})}})]}),Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formGridEmail",children:[Object(n.jsx)(p.a.Label,{children:"Confirm Password "}),Object(n.jsx)(p.a.Control,{style:{width:"300px "},as:ce.b,type:"Password",name:"confirmPassword"}),Object(n.jsx)(ce.a,{name:"confirmPassword",render:function(e){return Object(n.jsx)(m.a,{variant:"danger",children:e})}})]}),Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formGridPassword",children:[Object(n.jsx)(p.a.Label,{children:"Image"}),Object(n.jsx)(p.a.Control,{style:{width:"300px "},as:ce.b,name:"img"}),Object(n.jsx)(ce.a,{name:"img",render:function(e){return Object(n.jsx)(m.a,{variant:"danger",children:e})}})]}),Object(n.jsx)(k.a,{style:{margin:"20px 0px 20px 140px"},variant:"outline-secondary",type:"submit",children:"Save"})]})]})})})}):Object(n.jsx)(ne.a,{animation:"border"})})}function ie(e){return e.auth.isLoggedIn?Object(n.jsx)(se,{auth:e.auth,userProfile:e.userProfile,setUserProfile:e.setUserProfile}):Object(n.jsx)(u.a,{to:"/"})}function le(e){Object(u.g)().id;var t,a=Object(c.useState)(e.selectbook),r=Object(d.a)(a,2),o=r[0],s=r[1],i=Object(u.f)(),l=Object(c.useState)(o),j=Object(d.a)(l,2),b=j[0],h=j[1];Object(c.useEffect)((function(){s(JSON.parse(localStorage.EditBook)),h(JSON.parse(localStorage.EditBook))}),[]);var m=function(e){var t=e.target,a=t.name,n=t.value;return h(Object(x.a)(Object(x.a)({},b),{},Object(O.a)({},a,n)))};return Object(n.jsx)(n.Fragment,{children:o&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(p.a,{className:"mt-5 container",onSubmit:function(e){return function(e,t){e.preventDefault();var a=o._id;y.a.post("http://localhost:4000/api/books/EditBook/".concat(a),b).then((function(e){console.log("res.data.user from profile update: ",e.data.user),i.push("/mybooks")})).catch((function(e){return console.log(e)}))}(e)},children:Object(n.jsx)(f.a,{className:"justify-content-center mt-5",children:Object(n.jsxs)(g.a,{md:12,children:[Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)(g.a,{md:12,children:[Object(n.jsx)(p.a.Label,{children:"Book Name"}),Object(n.jsx)(p.a.Control,{placeholder:"Book name",name:"bname",defaultValue:o.bname,onChange:function(e){return m(e)}})]}),Object(n.jsx)(g.a,{md:12,children:Object(n.jsxs)(p.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(n.jsx)(p.a.Label,{children:"Discription"}),Object(n.jsx)(p.a.Control,{name:"bdescription",defaultValue:o.bdescription,onChange:function(e){return m(e)},as:"textarea",rows:3})]})}),Object(n.jsx)(g.a,{md:12,children:Object(n.jsxs)(p.a.Group,{controlId:"exampleForm.SelectCustom",children:[Object(n.jsx)(p.a.Label,{children:"Type of the book"}),Object(n.jsxs)(p.a.Control,{value:o.bcategory,onChange:function(e){return m(e)},as:"select",name:"bcategory",custom:!0,children:[Object(n.jsx)("option",{children:"History"}),Object(n.jsx)("option",{children:"Memoir"}),Object(n.jsx)("option",{children:"Cookbook"}),Object(n.jsx)("option",{children:"Crime"}),Object(n.jsx)("option",{children:"Art/architecture"}),Object(n.jsx)("option",{children:"Science"}),Object(n.jsx)("option",{children:"Sports and leisure"}),Object(n.jsx)("option",{children:"Horror"}),Object(n.jsx)("option",{children:"other"})]})]})})]}),Object(n.jsx)(p.a.Row,{children:Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formGridEmail",children:[Object(n.jsx)(p.a.Label,{children:"Release Date"}),Object(n.jsx)(p.a.Control,{type:"Text",placeholder:"Release Date",name:"bReleasDate",defaultValue:o.bReleasDate,onChange:function(e){return m(e)}})]})}),Object(n.jsx)(p.a.Row,{children:Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formGridPassword",children:[Object(n.jsx)(p.a.Label,{children:"Image"}),Object(n.jsx)(p.a.Control,{placeholder:"Image",name:"bimg",defaultValue:o.bimg,onChange:function(e){return m(e)}})]})}),Object(n.jsx)(p.a.Row,{children:Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formGridPassword",children:[Object(n.jsx)(p.a.Label,{children:"Author Name"}),Object(n.jsx)(p.a.Control,{placeholder:"Author Name",name:"bAuthor",defaultValue:o.bAuthor,onChange:function(e){return m(e)}})]})}),Object(n.jsx)(k.a,(t={variant:"outline-secondary",size:"lg",block:!0,type:"submit"},Object(O.a)(t,"size","lg"),Object(O.a)(t,"block",!0),Object(O.a)(t,"children","Save"),t))]})})})})})}function je(){return Object(n.jsx)("footer",{style:{position:"fixed",bottom:"0",width:"100%",height:"30px",background:"#fff"},children:Object(n.jsx)("div",{class:" pen",children:Object(n.jsx)("div",{class:"row",children:Object(n.jsx)("div",{class:"col-sm-12",children:Object(n.jsxs)("div",{class:"page-footer",children:["\xa9 Coded with love by ",Object(n.jsx)("b",{children:"Stray Engineers "})]})})})})})}var de=function(){var e=Object(c.useState)({}),t=Object(d.a)(e,2),a=t[0],r=t[1],o=Object(c.useState)({currentUser:null,isLoggedIn:!1}),s=Object(d.a)(o,2),i=s[0],O=s[1],x=Object(c.useState)({}),m=Object(d.a)(x,2),p=m[0],f=m[1],g=Object(c.useState)({}),k=Object(d.a)(g,2),v=(k[0],k[1],Object(c.useState)(!1)),S=Object(d.a)(v,2),I=S[0],B=S[1],N=Object(c.useState)({currentDataUser:null}),L=Object(d.a)(N,2),P=L[0],E=L[1],T=function(){if(localStorage.jwtToken){var e=localStorage.jwtToken,t=Object(h.a)(e,"SECRET").user,a=(Object(h.a)(e,"SECRET").book,Object(h.a)(e,"SECRET").user);O({currentUser:t,isLoggedIn:!0}),E({currentDataUser:a}),F(t)}else O({currentUser:null,isLoggedIn:!1});B(!0),console.log("The current User is: ",i.currentUser),console.log("The current DATA User  ",P.currentDataUser)},F=function(){var e=Object(j.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat(A,"/api/users/profile/").concat(t._id));case 2:a=e.sent,n=a.data.user,console.log("Loaded user profile: ",n),f(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)(T,[]),Object(c.useEffect)((function(){p.name&&B(!0)}),[p]),Object(n.jsx)(n.Fragment,{children:I?Object(n.jsxs)(b.a,{children:[Object(n.jsx)(_,{isLoggedIn:i.isLoggedIn,data:P.currentDataUser,loginCallback:T}),Object(n.jsx)(u.b,{path:"/login",children:Object(n.jsx)(C,{loginCallback:T})}),Object(n.jsx)(u.b,{path:"/Showbook/:id",children:Object(n.jsx)(W,{setAuth:O,user:P.currentDataUser,selectbook:a})}),Object(n.jsx)(u.b,{path:"/signup",children:Object(n.jsx)(w,{loginCallback:T})}),Object(n.jsx)(u.b,{exact:!0,path:"/Home",children:Object(n.jsx)(G,{setSelectbook:r})}),Object(n.jsx)(u.b,{exact:!0,path:"/EditProfile",children:Object(n.jsx)(ie,{auth:i,userProfile:p,setUserProfile:f})}),Object(n.jsx)(u.b,{exact:!0,path:"/EditBook/:id",children:Object(n.jsx)(le,{auth:i,setAuth:O,selectbook:a,setSelectbook:r,userProfile:p,setUserProfile:f})}),Object(n.jsx)(u.b,{exact:!0,path:"/NewBook",children:Object(n.jsx)(H,{data:P.currentDataUser})}),Object(n.jsx)(u.b,{exact:!0,path:"/Mybooks",children:Object(n.jsx)(z,{auth:i,data:P.currentDataUser,setAuth:O,setSelectbook:r})}),Object(n.jsx)(u.b,{exact:!0,path:"/ireadit",children:Object(n.jsx)(te,{auth:i,user:P.currentDataUser,setAuth:O})}),Object(n.jsx)(u.b,{exact:!0,path:"/toread",children:Object(n.jsx)(Z,{auth:i,user:P.currentDataUser,setAuth:O})}),Object(n.jsx)(u.b,{exact:!0,path:"/",children:Object(n.jsx)(U,{})}),Object(n.jsxs)(u.b,{path:"/",children:[Object(n.jsx)(u.b,{}),Object(n.jsx)(je,{})]})]}):Object(n.jsx)(ne.a,{animation:"border"})})},be=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,324)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(de,{})}),document.getElementById("root")),be()}},[[293,1,2]]]);
//# sourceMappingURL=main.722a142e.chunk.js.map